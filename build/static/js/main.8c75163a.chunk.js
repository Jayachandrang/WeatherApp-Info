(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),o=a.n(r),l=a(24),i=a(17),u=a(59),s=a(63),m={loading:!1,report:[]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_REPORT_REQUEST":return Object(s.a)({},e,{loading:!0});case"FETCH_WEATHER_REPORT_SUCCESS":return{loading:!1,report:t.payload,error:""};case"FETCH_WEATHER_REPORT_FAILURE":return{loading:!1,report:{},error:t.payload};default:return e}},E=Object(i.c)({weatherReducer:d}),f=(a(76),a(7)),h=a(38),b=a.n(h),v=a(22),p=a.n(v),O=a(138),g=a(141),j=a(60),R=a.n(j),T="http://api.openweathermap.org/data/2.5/forecast?q=".concat("Munich,de","&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&cnt=").concat(40),S=function(){return{type:"FETCH_WEATHER_REPORT_REQUEST"}},w=a(142),_=a(136),C=a(114),y=a(62),F=a.n(y),H=a(61),W=a.n(H);function k(e){var t=e.data,a=Object(n.useState)(500),r=Object(f.a)(a,2),o=r[0],l=r[1],i=Object(n.useRef)(null);return Object(n.useEffect)((function(){l(i.current.offsetWidth),window.onresize=function(){l(i.current.offsetWidth)}}),[o]),c.a.createElement("div",{ref:i},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(W.a,{width:o,height:500,margin:{top:20,right:20,bottom:30,left:40},data:t})))}function A(e){var t=e.data,a=e.datesList,r=e.selectedDate,o=e.highlightedDate,l=e.format,i=Object(n.useState)([]),u=Object(f.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(o),E=Object(f.a)(d,2),h=E[0],b=E[1];Object(n.useEffect)((function(){p.a.forEach(t,(function(e){e.isSelected=!1})),t[h]&&m(t[h]),!h&&a.length>0&&(b(a[0]),m(t[a[0]]))}),[a,t,h,0]);var v=a.map((function(e){return t[e]&&t[e].length>0?c.a.createElement(w.a,{key:e,onClick:function(){t[e].isSelected=!0,r(h),b(e),m(t[e])},className:(t[e].isSelected||t[e][0].date===h?"active":"")+" card-size"},c.a.createElement(_.a,null,c.a.createElement(C.a,{variant:"h4",component:"h3"},"Temp:"),c.a.createElement(C.a,{variant:"h6",component:"h3"},t[e][0].value," ",c.a.createElement(F.a,{className:"degrees"})," ",l[0]),c.a.createElement(C.a,{variant:"h4",component:"h3"},"Date:"),c.a.createElement(C.a,{variant:"h6",component:"h3"},t[e][0].date))):""}));return c.a.createElement("div",null,v,s.length>0?c.a.createElement(k,{data:s}):"")}var P=a(139),D=a(143),N=a(137),M=a(140);function U(e){var t=e.selTempFormat,a=Object(n.useState)("Celcius"),r=Object(f.a)(a,2),o=r[0],l=r[1];return c.a.createElement(M.a,{component:"fieldset"},c.a.createElement(D.a,{"aria-label":"position",row:!0,name:"position",value:o,onChange:function(e){l(e.target.value),t(e.target.value)}},c.a.createElement(N.a,{value:"Celcius",control:c.a.createElement(P.a,{color:"primary"}),label:"Celcius",labelPlacement:"end"}),c.a.createElement(N.a,{value:"Fahrenheit",control:c.a.createElement(P.a,{color:"primary"}),label:"Fahrenheit",labelPlacement:"end"})))}var x=function(){var e=Object(l.c)((function(e){return e.weatherReducer})),t=Object(n.useState)({loading:!0}),a=Object(f.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(1),u=Object(f.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)("Celcius"),E=Object(f.a)(d,2),h=E[0],v=E[1],j=Object(n.useState)({}),w=Object(f.a)(j,2),_=w[0],C=w[1],y=Object(n.useState)({}),F=Object(f.a)(y,2),H=F[0],W=F[1],k=Object(n.useState)(""),P=Object(f.a)(k,2),D=P[0],N=P[1],M=Object(l.b)();Object(n.useEffect)((function(){M((function(e){e(S),R.a.get(T).then((function(t){var a=t.data&&t.data.list?t.data.list:[];e(function(e){return{type:"FETCH_WEATHER_REPORT_SUCCESS",payload:e}}(a))})).catch((function(t){var a=t.message;e(function(e){return{type:"FETCH_WEATHER_REPORT_FAILURE",payload:e}}(a))}))}))}),[M]),Object(n.useEffect)((function(){var t=e.report.reduce((function(e,t){var a=b()(t.dt_txt).format("DD-MMM-YYYY"),n=b()(t.dt_txt).format("H:00"),c={value:"Fahrenheit"===h?Math.round(t.main.temp):Math.round(5*(t.main.temp-32)/9),date:a,text:n,format:h,isSelected:D===a};return e[a]||(e[a]=[]),e[a].push(c),e}),{});W(p.a.chunk(p.a.keys(t),3)[s-1]),C(t),o(e)}),[e,h,s,3,D]);var x=function(e){m(s+e)};return c.a.createElement("div",{className:"App"},c.a.createElement("h2",null," ","Weather Info"," "),r.loading?c.a.createElement("div",{className:"loader"}):c.a.createElement(O.a,{maxWidth:"md",className:"base"},c.a.createElement(U,{selTempFormat:function(e){v(e)}}),c.a.createElement("div",{className:"navigation"},s>1?c.a.createElement(g.a,{className:"backward",onClick:function(){return x(-1)}}):"",H&&H.length>-1&&s<H.length-1?c.a.createElement(g.a,{className:"forward",onClick:function(){return x(1)}}):""),H&&H.length>-1?c.a.createElement(A,{data:_,datesList:H,selectedDate:function(e){N(e)},highlightedDate:D,format:h}):""))};a(112);var I=function(){return c.a.createElement("div",null,c.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=Object(i.d)(E,Object(i.a)(u.a));o.a.render(c.a.createElement(l.a,{store:L},c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a(113)},76:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.8c75163a.chunk.js.map